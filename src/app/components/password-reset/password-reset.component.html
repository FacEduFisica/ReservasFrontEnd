<div class="container mt-4 p-1 justify-content-center">
    <div class="text-center justify-content-center">
      <h2 class="mb-4">Modificar Contraseña</h2>
    </div>
      <form [formGroup]="form">
          <div class="form-group">
            <div class="form-group row">
              <div class="input-group col-12">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <i class="fa fa-envelope"></i>
                  </div>
                </div>
                <input class="form-control" type="email" name="email" placeholder="Email" formControlName="email"
                  autocomplete="off" [ngClass]="{'is-invalid':!form.get('email').valid && form.get('email').touched}">
                <div *ngIf="!form.get('email').valid && form.get('email').touched" class="form-control-feedback col-12">
                  Ingresa un correo válido.
                </div>
              </div>
            </div>
      
            <div class="form-group row">
              <div class="input-group col-12">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <i class="fa fa-key"></i>
                  </div>
                </div>
                <input class="form-control" type="password" placeholder="Contraseña" name="password"
                  formControlName="password" (change)="verify()" (keyup)="verify()" autocomplete="off"
                  [ngClass]="{'is-invalid':!form.get('password').valid && form.get('password').touched}">
              </div>
            </div>
            <div class="form-group row">
              <div class="input-group col-12">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <i class="fa fa-key"></i>
                  </div>
                </div>
                <input class="form-control" type="password" name="confContraseña" placeholder="Confirmar contraseña"
                  formControlName="password_confirmation" (change)="verify()" (keyup)="verify()" autocomplete="off"
                  [ngClass]="{'is-invalid':!form.get('password_confirmation').valid && form.get('password_confirmation').touched}">
                <div *ngIf="!form.controls['password'].errors?.required && !verification && form.get('password_confirmation').touched"
                  class="form-control-feedback col-12">
                  Las contraseñas no coinciden
                </div>
              </div>
            </div>
          </div>
        <div class="row justify-content-center alert alert-warning message" *ngIf="message!=''" role="alert" >
          <span>{{message}}</span>
        </div>      
        <div class="row justify-content-center">
          <button type="submit" class="btn poli" [disabled]="form.get('email').invalid || !form.get('password').value || !form.get('password_confirmation').value || !verification" (click)='reset()'>Cambiar</button>
        </div>
      </form>
</div>
